<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lernprogramm</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style/styles.css" />
  <link rel="manifest" href="manifest.json" />

  <!-- KaTeX -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" crossorigin="anonymous" />
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" crossorigin="anonymous" 
    onload="renderMathInElement(document.body);"></script>

  <!-- VexFlow -->
  <script src="https://cdn.jsdelivr.net/npm/vexflow@4.2.2/build/cjs/vexflow.js"></script>

  <!-- Tone.js -->
  <script src="https://unpkg.com/tone"></script>

  <!-- Favicons & PWA Manifest -->
  <link rel="icon" type="image/png" href="/icons/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg" />
  <link rel="shortcut icon" href="/icons/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="LernApp" />
  <link rel="manifest" href="/icons/site.webmanifest" />
</head>

<body>
  <header>
    <h1>Lernprogramm</h1>
  </header>

  <main>
    <!-- Ladeanzeige beim Abrufen der Fragen -->
    <section id="loading-area" class="hidden">
      <p>Fragen werden geladen...</p>
    </section>

    <!-- Kategorieauswahl -->
    <section id="category-selection">
      <h2>Kategorie wählen</h2>
      <div class="category-buttons">
        <button data-category="web">Internet-/Webtechnologien</button>
        <button data-category="mathe">Mathematik</button>
        <button data-category="noten">Noten lernen</button>
        <button data-category="extern">Externe Fragen</button>
      </div>
    </section>

    <!-- Fragenbereich -->
    <section id="question-area" class="hidden">
      <div class="note-audio-row">
        <div id="note-canvas"></div>
        <div id="audio-button-area" class="hidden">
          <button id="audio-btn">Ton abspielen</button> 
        </div>
      </div>

      <!-- Antwortmöglichkeiten -->
      <p id="question-text">Frage wird geladen...</p>
      <div id="answers"></div>

      <!-- Progress-Bar -->
      <progress id="progress-bar" value="0" max="100"></progress>

      <button class="restart-btn">Zurück zur Kategorienauswahl</button>
    </section>

    <!-- Statistikanzeige -->
    <section id="result-area" class="hidden">
      <h2>Ergebnis</h2>
      <p id="summary">Du hast X von Y Fragen richtig beantwortet.</p>
      <button class="restart-btn">Erneut starten</button>
    </section>
  </main>

  <!-- Fußzeile -->
  <footer>
    <p>&copy; 2025 LernApp – HTW Dresden (s86327)</p>
  </footer>

  <!-- Script-Verlinkung (Presenter) -->
  <script src="js/main.js" type="module"></script>
</body>
</html>